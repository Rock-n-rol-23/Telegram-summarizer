# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–æ–º–∞–Ω–¥

## –ü—Ä–æ–±–ª–µ–º–∞
–ë–æ—Ç –ø–µ—Ä–µ—Å—Ç–∞–ª —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –∫–æ–º–∞–Ω–¥—ã `/start`, `/help` –∏ `/stats` –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏ —Ç–µ–∫—Å—Ç–∞.

## –ü—Ä–∏—á–∏–Ω–∞
–í —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏ —Ç–µ–∫—Å—Ç–∞ –±—ã–ª–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–ª–∏–Ω—ã:
```python
if len(text.replace(' ', '').replace('\n', '')) < 10:
    return None  # –û—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –∫–æ—Ä–æ—Ç–∫–∏–π —Ç–µ–∫—Å—Ç
```

–ö–æ–º–∞–Ω–¥—ã `/start` (6 —Å–∏–º–≤–æ–ª–æ–≤), `/help` (5 —Å–∏–º–≤–æ–ª–æ–≤), `/stats` (6 —Å–∏–º–≤–æ–ª–æ–≤) –ø–æ–ø–∞–¥–∞–ª–∏ –ø–æ–¥ —ç—Ç–æ—Ç —Ñ–∏–ª—å—Ç—Ä –∏ –æ—Ç–∫–ª–æ–Ω—è–ª–∏—Å—å.

## –†–µ—à–µ–Ω–∏–µ
–î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –∫–æ–º–∞–Ω–¥—ã –ø–µ—Ä–µ–¥ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –ø–æ –¥–ª–∏–Ω–µ:

### –í —Ñ—É–Ω–∫—Ü–∏–∏ `extract_text_from_message()`:
```python
# –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –ø–æ—Å–ª–µ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏ –æ—Å—Ç–∞–ª—Å—è —Å–º—ã—Å–ª–æ–≤–æ–π —Ç–µ–∫—Å—Ç
# –ù–ï —Ñ–∏–ª—å—Ç—Ä—É–µ–º –∫–æ–º–∞–Ω–¥—ã (–Ω–∞—á–∏–Ω–∞—é—â–∏–µ—Å—è —Å /)
clean_text = text.replace(' ', '').replace('\n', '').replace('\t', '')
if not text.startswith('/') and len(clean_text) < 10:
    logger.warning(f"–¢–µ–∫—Å—Ç –ø–æ—Å–ª–µ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–∏–π: '{text[:100]}'")
    return None
```

## –†–µ–∑—É–ª—å—Ç–∞—Ç
- ‚úÖ –ö–æ–º–∞–Ω–¥—ã `/start`, `/help`, `/stats` —Å–Ω–æ–≤–∞ —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ –ö–æ—Ä–æ—Ç–∫–∏–µ —Ç–µ–∫—Å—Ç—ã (–Ω–µ –∫–æ–º–∞–Ω–¥—ã) –ø–æ-–ø—Ä–µ–∂–Ω–µ–º—É —Ñ–∏–ª—å—Ç—Ä—É—é—Ç—Å—è  
- ‚úÖ –î–ª–∏–Ω–Ω—ã–µ —Ç–µ–∫—Å—Ç—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –Ω–æ—Ä–º–∞–ª—å–Ω–æ
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –≤—Å—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏ —Ç–µ–∫—Å—Ç–∞ —Å –æ—Ç—Å—Ç—É–ø–∞–º–∏

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- `/start` -> ‚úÖ –†–ê–ë–û–¢–ê–ï–¢
- `/help` -> ‚úÖ –†–ê–ë–û–¢–ê–ï–¢  
- `/stats` -> ‚úÖ –†–ê–ë–û–¢–ê–ï–¢
- –ö–æ—Ä–æ—Ç–∫–∏–π —Ç–µ–∫—Å—Ç "Hi" -> ‚ùå –§–∏–ª—å—Ç—Ä—É–µ—Ç—Å—è (–ø—Ä–∞–≤–∏–ª—å–Ω–æ)
- –î–ª–∏–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç -> ‚úÖ –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è

## –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è (—Ñ–∏–Ω–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ):

### üîß –û—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞: –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
–ë—ã–ª–∏ –¥–≤–µ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ `extract_text_from_message()`:
- –í `handle_text_message()` (—Å—Ç—Ä–æ–∫–∞ 357)
- –í `handle_update()` (—Å—Ç—Ä–æ–∫–∞ 494)

### ‚úÖ –†–µ—à–µ–Ω–∏–µ:
1. **–ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è** –≤ `handle_update()` –≤ `extract_text_from_message_handle_update()`
2. **–î–æ–±–∞–≤–ª–µ–Ω–∞ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ –¥–ª—è –∫–æ–º–∞–Ω–¥**:
   ```python
   # –î–ª—è –∫–æ–º–∞–Ω–¥ - –ù–ï –Ω–æ—Ä–º–∞–ª–∏–∑—É–µ–º, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –∫–∞–∫ –µ—Å—Ç—å
   if text and text.startswith('/'):
       return text.strip()
   ```
3. **–î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
4. **–†–∞–∑–¥–µ–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞** –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–æ–º–∞–Ω–¥ –∏ –æ–±—ã—á–Ω—ã—Ö —Ç–µ–∫—Å—Ç–æ–≤

### üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:
- `/help` ‚Üí ‚úÖ –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –∫–∞–∫ –µ—Å—Ç—å
- `/start` ‚Üí ‚úÖ –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –∫–∞–∫ –µ—Å—Ç—å  
- `/stats` ‚Üí ‚úÖ –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –∫–∞–∫ –µ—Å—Ç—å
- "Hi" ‚Üí ‚ùå –§–∏–ª—å—Ç—Ä—É–µ—Ç—Å—è (–ø—Ä–∞–≤–∏–ª—å–Ω–æ)
- –î–ª–∏–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç ‚Üí ‚úÖ –ü—Ä–æ—Ö–æ–¥–∏—Ç –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—é